"use strict";(self.webpackChunkmomento_docs=self.webpackChunkmomento_docs||[]).push([[6782],{7628:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>u});var r=n(4848),s=n(8453),o=(n(1441),n(5347));const a={sidebar_position:2,sidebar_label:"Getting Started",title:"Creating a webhook",description:"Learn how to create a webhook using the Momento Console",pagination_next:null,keywords:["topics","webhooks","eda","momento","event-driven architecture"]},i="Create your first webhook in Momento",l={id:"topics/webhooks/creating-a-webhook",title:"Creating a webhook",description:"Learn how to create a webhook using the Momento Console",source:"@site/docs/topics/webhooks/creating-a-webhook.md",sourceDirName:"topics/webhooks",slug:"/topics/webhooks/creating-a-webhook",permalink:"/topics/webhooks/creating-a-webhook",draft:!1,unlisted:!1,editUrl:"https://github.com/momentohq/public-dev-docs/tree/main/docs/topics/webhooks/creating-a-webhook.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_label:"Getting Started",title:"Creating a webhook",description:"Learn how to create a webhook using the Momento Console",pagination_next:null,keywords:["topics","webhooks","eda","momento","event-driven architecture"]},sidebar:"topicsSidebar",previous:{title:"Overview",permalink:"/topics/webhooks/overview"}},c={},u=[];function h(e){const t={a:"a",code:"code",h1:"h1",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"create-your-first-webhook-in-momento",children:"Create your first webhook in Momento"})}),"\n",(0,r.jsxs)(t.p,{children:["To complete step one of setting up the webhook, log into the ",(0,r.jsx)(t.a,{href:"https://console.gomomento.com",children:"Momento console"}),". Navigate to the ",(0,r.jsx)(t.a,{href:"https://console.gomomento.com/caches",children:"cache list"})," on the left navigation bar and select the cache that will publish to the webhook."]}),"\n",(0,r.jsx)(t.p,{children:"To create the webhook, a few simple details need to be supplied."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Webhook Creation",src:n(601).A+"",width:"2402",height:"804"})}),"\n",(0,r.jsx)(t.p,{children:"The three fields presented are important for different reasons."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Webhook Name"}),": Human-readable name for the webhook."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Topic Name"}),": Topic that will trigger the webhook when published."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Webhook Destination"}),": Endpoint URL of the webhook to POST to."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Next, ",(0,r.jsx)(t.a,{href:"https://console.gomomento.com/api-keys",children:"create a Fine-Grained Access Key"})," for the cache, with topic ",(0,r.jsx)(t.code,{children:"publish"})," permissions."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Token Creation",src:n(4126).A+"",width:"1279",height:"508"})}),"\n",(0,r.jsxs)(t.p,{children:["Using this token, you can now start publishing to the topic. You can use the ",(0,r.jsx)(t.a,{href:"/topics/api-reference",children:"Momento SDK"})," to publish to the topic."]}),"\n",(0,r.jsx)(o.r,{js:"const result = await topicClient.publish(cacheName, 'test-topic', 'test-topic-value');\nswitch (result.type) {\n  case TopicPublishResponse.Success:\n    console.log(\"Value published to topic 'test-topic'\");\n    break;\n  case TopicPublishResponse.Error:\n    throw new Error(\n      `An error occurred while attempting to publish to the topic 'test-topic' in cache '${cacheName}': ${result.errorCode()}: ${result.toString()}`\n    );\n}",python:'response = await topic_client.publish("cache", "my_topic", "my_value")\nmatch response:\n    case TopicPublish.Success():\n        print("Successfully published a message")\n    case TopicPublish.Error() as error:\n        print(f"Error publishing a message: {error.message}")\n\n',java:"",kotlin:'when (val response = topicClient.publish("test-cache", "test-topic", "test-message")) {\n    is TopicPublishResponse.Success -> println("Message published successfully")\n    is TopicPublishResponse.Error -> throw RuntimeException(\n        "An error occurred while attempting to publish message to topic \'test-topic\': ${response.errorCode}",\n        response\n    )\n}',go:'_, err := topicClient.Publish(ctx, &momento.TopicPublishRequest{\n\tCacheName: cacheName,\n\tTopicName: "test-topic",\n\tValue:     momento.String("test-message"),\n})\nif err != nil {\n\tpanic(err)\n}',csharp:'var publishResponse =\r\n     await topicClient.PublishAsync("test-cache", "test-topic", "test-topic-value");\r\nswitch (publishResponse)\r\n{\r\n    case TopicPublishResponse.Success:\r\n        Console.WriteLine("Successfully published message to \'test-topic\'");\r\n        break;\r\n    case TopicPublishResponse.Error error:\r\n        throw new Exception($"An error occurred while publishing topic message: {error.ErrorCode}: {error}");\r\n}\r',php:"",rust:'  topic_client\n      .publish(cache_name, topic_name, "Hello, Momento!")\n      .await?;\n  println!("Published message");',elixir:"",swift:'let result = await topicClient.publish(\n    cacheName: cacheName,\n    topicName: "topic",\n    value: "value"\n)\nswitch result {\ncase .success(_):\n    print("Successfully published message!")\ncase .error(let err):\n    print("Unable to publish message: \\(err)")\n    exit(1)\n}',dart:'final result = await topicClient.publish("cache", "topic", "hello message!");\nswitch (result) {\n  case TopicPublishSuccess():\n    print("Successful publish!");\n  case TopicPublishError():\n    print("Publish error: ${result.errorCode} ${result.message}");\n}',ts:""}),"\n",(0,r.jsxs)(t.p,{children:["You should now be able to see the events being received by your webhook endpoint. What this endpoint does with the events is up to you! It is worth noting that this Webhook can listen to multiple topics across multiple caches. Since the ",(0,r.jsx)(t.code,{children:"topic"})," and ",(0,r.jsx)(t.code,{children:"cache"})," come as part of the POST body, events can be distinguished by these attributes, and processed in differently depending on which Cache/Topic the event came from."]})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},9365:(e,t,n)=>{n.d(t,{A:()=>a});n(6540);var r=n(4164);const s={tabItem:"tabItem_Ymn6"};var o=n(4848);function a(e){let{children:t,hidden:n,className:a}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,a),hidden:n,children:t})}},1470:(e,t,n)=>{n.d(t,{A:()=>k});var r=n(6540),s=n(4164),o=n(3104),a=n(6347),i=n(205),l=n(7485),c=n(1682),u=n(679);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:s}}=e;return{value:t,label:n,attributes:r,default:s}}))}(n);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function d(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function b(e){let{queryString:t=!1,groupId:n}=e;const s=(0,a.W6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(o),(0,r.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(s.location.search);t.set(o,e),s.replace({...s.location,search:t.toString()})}),[o,s])]}function m(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,o=p(e),[a,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!d({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[c,h]=b({queryString:n,groupId:s}),[m,g]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[s,o]=(0,u.Dv)(n);return[s,(0,r.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:s}),f=(()=>{const e=c??m;return d({value:e,tabValues:o})?e:null})();(0,i.A)((()=>{f&&l(f)}),[f]);return{selectedValue:a,selectValue:(0,r.useCallback)((e=>{if(!d({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),g(e)}),[h,g,o]),tabValues:o}}var g=n(2303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var w=n(4848);function v(e){let{className:t,block:n,selectedValue:r,selectValue:a,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),u=e=>{const t=e.currentTarget,n=l.indexOf(t),s=i[n].value;s!==r&&(c(t),a(s))},h=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,w.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},t),children:i.map((e=>{let{value:t,label:n,attributes:o}=e;return(0,w.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>l.push(e),onKeyDown:h,onClick:u,...o,className:(0,s.A)("tabs__item",f.tabItem,o?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function x(e){let{lazy:t,children:n,selectedValue:o}=e;const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=a.find((e=>e.props.value===o));return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,w.jsx)("div",{className:"margin-top--md",children:a.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==o})))})}function j(e){const t=m(e);return(0,w.jsxs)("div",{className:(0,s.A)("tabs-container",f.tabList),children:[(0,w.jsx)(v,{...t,...e}),(0,w.jsx)(x,{...t,...e})]})}function k(e){const t=(0,g.A)();return(0,w.jsx)(j,{...e,children:h(e.children)},String(t))}},1441:(e,t,n)=>{n(6540)},5347:(e,t,n)=>{n.d(t,{r:()=>i});var r=n(1470),s=n(9365),o=n(1432),a=(n(6540),n(4848));const i=e=>{let{js:t,python:n,java:i,kotlin:l,go:c,csharp:u,php:h,rust:p,ruby:d,elixir:b,swift:m,dart:g,cli:f}=e;return t||n||i||l||c||u||h||p||d||b||m||g||f?(0,a.jsxs)(r.A,{children:[t&&(0,a.jsx)(s.A,{value:"js",label:"JavaScript",children:(0,a.jsx)(o.A,{language:"js",children:t})}),n&&(0,a.jsx)(s.A,{value:"python",label:"Python",children:(0,a.jsx)(o.A,{language:"python",children:n})}),i&&(0,a.jsx)(s.A,{value:"java",label:"Java",children:(0,a.jsx)(o.A,{language:"java",children:i})}),l&&(0,a.jsx)(s.A,{value:"kotlin",label:"Kotlin",children:(0,a.jsx)(o.A,{language:"kotlin",children:l})}),c&&(0,a.jsx)(s.A,{value:"go",label:"Go",children:(0,a.jsx)(o.A,{language:"go",children:c})}),u&&(0,a.jsx)(s.A,{value:"csharp",label:"C#",children:(0,a.jsx)(o.A,{language:"csharp",children:u})}),h&&(0,a.jsx)(s.A,{value:"php",label:"PHP",children:(0,a.jsx)(o.A,{language:"php",children:h})}),p&&(0,a.jsx)(s.A,{value:"rust",label:"Rust",children:(0,a.jsx)(o.A,{language:"rust",children:p})}),d&&(0,a.jsx)(s.A,{value:"ruby",label:"Ruby",children:(0,a.jsx)(o.A,{language:"ruby",children:d})}),b&&(0,a.jsx)(s.A,{value:"elixir",label:"Elixir",children:(0,a.jsx)(o.A,{language:"elixir",children:b})}),m&&(0,a.jsx)(s.A,{value:"swift",label:"Swift",children:(0,a.jsx)(o.A,{language:"swift",children:m})}),g&&(0,a.jsx)(s.A,{value:"dart",label:"Dart",children:(0,a.jsx)(o.A,{language:"dart",children:g})}),f&&(0,a.jsx)(s.A,{value:"cli",label:"CLI",children:(0,a.jsx)(o.A,{language:"cli",children:f})})]}):null}},601:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/creating_webhook-d370b1e45b70e26f02cc9f1ceb77150a.jpg"},4126:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/create-fine-grained-token-97e4922c35cfd605d5409827859cbfc6.png"}}]);